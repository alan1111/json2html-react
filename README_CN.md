## json2html-react åº“åœæ­¢æ›´æ–°å…¬å‘Š
å°Šæ•¬çš„å„ä½ç”¨æˆ·ï¼š

    åœ¨æ­¤ï¼Œæˆ‘ä»¬æ€€ç€ä¸‡åˆ†é—æ†¾ä¸è¯šæŒšçš„æ­‰æ„å‘ŠçŸ¥å¤§å®¶ï¼Œç”±äºæˆ‘ä»¬å›¢é˜Ÿç»è¿‡æ·±å…¥æ¢ç´¢ä¸ç ”å‘ï¼Œç°å·²æ¨å‡ºäº†æ›´å…·åˆ›æ–°æ€§å’Œå“è¶Šæ€§èƒ½çš„æ›¿ä»£æ–¹æ¡ˆï¼Œæ•…è€Œå†³å®šå¯¹ json2html-react åº“åœæ­¢æ›´æ–°ç»´æŠ¤ã€‚
æˆ‘ä»¬æ·±çŸ¥ï¼Œjson2html-react åº“åœ¨è¿‡å»çš„æ—¥å­é‡Œæ‰¿è’™ä¼—å¤šç”¨æˆ·çš„ä¿¡ä»»ä¸é€‰ç”¨ï¼Œä¸ºå¤§å®¶åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­è´¡çŒ®äº†ä¸€ä»½åŠ›é‡ï¼Œå¯¹æ­¤æˆ‘ä»¬æ·±è¡¨æ„Ÿæ¿€ã€‚ç„¶è€Œï¼ŒæŠ€æœ¯çš„å‘å±•æ—¥æ–°æœˆå¼‚ï¼Œä¸ºäº†èƒ½ç»™å¤§å®¶å¸¦æ¥æ›´ä¼˜è´¨ã€é«˜æ•ˆä¸”ä¾¿æ·çš„å¼€å‘ä½“éªŒï¼Œæˆ‘ä»¬ä¸å¾—ä¸åšå‡ºè¿™ä¸€è‰°éš¾çš„å†³å®šã€‚

    ä½†è¯·å¤§å®¶æ”¾å¿ƒï¼Œæˆ‘ä»¬ä¸ºæ­¤æ¬¡çš„æ”¹å˜ç²¾å¿ƒç­¹å¤‡äº†å…¨æ–°çš„æ–¹æ¡ˆï¼Œå®ƒå°†ä¸ºå¤§å®¶å¼€å¯å…¨æ–°çš„å¼€å‘è§†é‡ï¼Œå¸¦æ¥è¯¸å¤šä»¤äººæƒŠå–œçš„ç‰¹æ€§ï¼š
ä¸€ã€çœŸæ­£çš„é›¶ç¼–ç¨‹ä½“éªŒ
æ–°æ–¹æ¡ˆå®ç°äº†å‰æ‰€æœªæœ‰çš„çªç ´ï¼Œæ— éœ€æ‚¨ç¼–å†™ç¹æ‚çš„ä»£ç ï¼Œå³å¯è½»æ¾å®Œæˆé¡µé¢çš„åˆ›å»ºä¸å¸ƒå±€ã€‚æ— è®ºæ‚¨æ˜¯ç»éªŒä¸°å¯Œçš„å¼€å‘è€…ï¼Œè¿˜æ˜¯åˆšåˆšå…¥é—¨çš„æ–°æ‰‹ï¼Œéƒ½èƒ½åœ¨é›¶ç¼–ç¨‹çš„ç¯å¢ƒä¸‹å¿«é€Ÿå®ç°è‡ªå·±å¿ƒä¸­ç†æƒ³çš„é¡µé¢æ•ˆæœï¼Œå¤§å¤§èŠ‚çœäº†å¼€å‘æ—¶é—´ä¸ç²¾åŠ›ï¼Œè®©æ‚¨å°†æ›´å¤šçš„å¿ƒæ€èšç„¦åœ¨ä¸šåŠ¡é€»è¾‘ä¸åˆ›æ„æ„æ€ä¸Šã€‚
äºŒã€é«˜åº¦çš„çµæ´»æ€§ä¸å¯å®šåˆ¶æ€§
å°½ç®¡æ— éœ€ç¼–ç¨‹ï¼Œä½†æ–°æ–¹æ¡ˆç»æœªç‰ºç‰²çµæ´»æ€§ä¸å®šåˆ¶æ€§ã€‚å®ƒæä¾›äº†ä¸°å¯Œå¤šæ ·çš„é¢„è®¾æ¨¡æ¿ä¸ç»„ä»¶ï¼Œæ‚¨å¯ä»¥æ ¹æ®å…·ä½“é¡¹ç›®éœ€æ±‚ï¼Œè½»æ¾å¯¹é¡µé¢çš„å„ä¸ªå…ƒç´ è¿›è¡Œä¸ªæ€§åŒ–è°ƒæ•´ä¸å®šåˆ¶ã€‚ä»é¡µé¢é£æ ¼ã€å¸ƒå±€ç»“æ„åˆ°å…ƒç´ æ ·å¼ï¼Œä¸€åˆ‡çš†å¯æŒ‰ç…§æ‚¨çš„æ„æ„¿éšå¿ƒå˜æ¢ï¼Œç¡®ä¿æ‚¨æ‰“é€ å‡ºç‹¬ä¸€æ— äºŒä¸”è´´åˆé¡¹ç›®éœ€æ±‚çš„å®Œç¾é¡µé¢ã€‚
ä¸‰ã€å“è¶Šçš„æ€§èƒ½ä¸å…¼å®¹æ€§
åœ¨è¿½æ±‚ä¾¿æ·çš„åŒæ—¶ï¼Œæ–°æ–¹æ¡ˆåœ¨æ€§èƒ½ä¸å…¼å®¹æ€§æ–¹é¢ä¹Ÿè¡¨ç°å“è¶Šã€‚å®ƒç»è¿‡äº†ä¸¥æ ¼çš„æµ‹è¯•ä¸ä¼˜åŒ–ï¼Œèƒ½å¤Ÿåœ¨å„ç§ä¸»æµæµè§ˆå™¨ä¸è®¾å¤‡ä¸Šç¨³å®šè¿è¡Œï¼Œç¡®ä¿æ‚¨çš„é¡µé¢æ— è®ºåœ¨ä½•ç§ç¯å¢ƒä¸‹éƒ½èƒ½æµç•…å±•ç¤ºï¼Œä¸ºç”¨æˆ·æä¾›ä¼˜è´¨çš„æµè§ˆä½“éªŒã€‚åŒæ—¶ï¼Œå…¶é«˜æ•ˆçš„æ¸²æŸ“æœºåˆ¶èƒ½å¤Ÿå¿«é€Ÿå¤„ç†å¤§é‡æ•°æ®ï¼Œå³ä½¿é¢å¯¹å¤æ‚çš„é¡µé¢ç»“æ„ä¸ä¸°å¯Œçš„å†…å®¹ï¼Œä¹Ÿèƒ½è½»æ¾åº”å¯¹ï¼Œæ¯«æ— å‹åŠ›ã€‚

æˆ‘ä»¬è¯šæŒšåœ°é‚€è¯·å„ä½ç”¨æˆ·å‰å¾€æˆ‘ä»¬çš„[å®˜æ–¹ç½‘ç«™](https://i-simple.fun/)ï¼Œäº²èº«ä½“éªŒæ–°æ–¹æ¡ˆæ‰€å¸¦æ¥çš„è¿™äº›ä»¤äººæƒŠå¹çš„ç‰¹æ€§ï¼Œä¸€åŒè§è¯é›¶ç¼–ç¨‹å®ç°é¡µé¢å¥‡è¿¹çš„ç²¾å½©ç¬é—´ã€‚

å†æ¬¡ä¸ºç»™å¤§å®¶å¸¦æ¥çš„ä¸ä¾¿æ·±è¡¨æ­‰æ„ï¼Œæˆ‘ä»¬è¡·å¿ƒå¸Œæœ›å¤§å®¶èƒ½å¤Ÿç†è§£æˆ‘ä»¬çš„å†³å®šï¼Œå¹¶æœŸå¾…æ–°æ–¹æ¡ˆèƒ½ä¸ºæ‚¨çš„é¡¹ç›®å¼€å‘å¸¦æ¥æ›´å¤šçš„ä¾¿åˆ©ä¸æƒŠå–œã€‚
æ„Ÿè°¢å¤§å®¶ä¸€ç›´ä»¥æ¥å¯¹æˆ‘ä»¬çš„æ”¯æŒä¸åšçˆ±ï¼

-- å°ç«çƒ

## æ–‡æ¡£
[è‹±æ–‡](https://github.com/alan1111/json2html-react/blob/main/README.md)ï½œ[ä¸­æ–‡](https://github.com/alan1111/json2html-react/blob/main/README_CN.md)

## ç®€ä»‹
json2html-reactä¸»è¦åŠŸèƒ½æ˜¯ï¼šç”¨äºå°†jsonæ¸²æŸ“æˆé¡µé¢ï¼ŒåŒ…å«é¡µé¢çš„åŠ¨ä½œactionï¼Œç»„ä»¶ä¹‹é—´çš„è”åŠ¨linkageã€‚

## ä½¿ç”¨è¯´æ˜

1. ä¸‹è½½json2html-reactï¼š
```bash
npm i -S json2html-react
# or
yarn add json2html-react
# or
pnpm i -S json2html-react
```
2. å¼•ç”¨ï¼š

```bash
import { useState, useEffect } from 'react';
import components from '../utils/components'
import actions from '../utils/actions'
import { RenderJSON, registerAction, registerComponent } from 'json2html-react';
import data from '../examples/mock.json'

export default function DynamicLinkage() {
  const [renderData, setRenderData] = useState(null);

  // æ³¨å†Œé¡µé¢å®šåˆ¶åŒ–çš„action
  useEffect(() => {
    registerAction({
      onSubmit: async (d, {form}) => {
        console.log('jsonæ•°æ®ï¼š', d);
        try {
          const values = await form.validateFields();
          console.log(values);
        } catch (errorList) {
          errorList.forEach(({ name, errors }) => {
            // Do something...
          });
        }
      },
    });
  }, []);

  useEffect(() => {
    // æ³¨å†Œé€šç”¨actions
    registerAction(actions)
    // æ³¨å†Œé€šç”¨components
    registerComponent(components)
  }, [])

  useEffect(() => {
    // jsonæ•°æ®ç”±åç«¯ä¿å­˜ï¼Œè¿™è¾¹ç”¨timeoutæ¨¡æ‹Ÿè¯·æ±‚æ•°æ®
    const timer = setTimeout(() => {
      setRenderData(data)
    }, 100)

    return () => {
      clearTimeout(timer)
    }
  }, [])

  if (!renderData) {
    return null;
  }

  const options = {
    initialValues: {}, // éå¿…é¡»ï¼åˆå§‹åŒ–formå€¼ã€‚
    renderJson: renderData, // å¿…é¡»ï¼å¾…æ¸²æŸ“çš„jsonæ•°æ®
    css: '', éå¿…é¡»ï¼ä¸»è¦ç”¨äºå…¨å±€cssæ ·å¼çš„å¼•å…¥ï¼Œå¯ä»¥æ·»åŠ class/idç­‰ã€‚
    events: { //éå¿…é¡»ï¼formç»„ä»¶ç»‘å®šäº‹ä»¶
      onChange: (v, opt) => {
        const {form, pathName}  = opt || {};
        console.log('è¡¨å•å˜åŒ–çš„key:', pathName);
        console.log('è¡¨å•å˜åŒ–çš„value:', v);
        console.log('è¡¨å•form:', form);
        console.log('é€šè¿‡formè·å–å€¼', form.getFieldValue(pathName));
      }
    }
  }

  return (<RenderJSON {...options} />)
}

```
## jsonæ•°æ®ç»“æ„å­—æ®µè¯´æ˜ï¼š

```bash
{
  // å¸¸è§„å±æ€§
  widget: String, // ç”¨äºä½œç»„ä»¶æ˜ å°„
  jChildren: Array | Object, // ç”¨äºæ¸²æŸ“å­ç»„ä»¶
  jProps: Object, // å­ç»„ä»¶å±æ€§é€ä¼ 
  action: Array | Object, // ç”¨äºç»™ç»„ä»¶ç»‘å®šonClickäº‹ä»¶
    {
      type: String, // ç”¨äºactionæ˜ å°„
      data: Any, // ä½œä¸ºä¼ å…¥actionæ•°æ®
    }
  
  // è¡¨å•å±æ€§
  dataBind: String, // å½“å‰ç»„ä»¶å¯¹åº”çš„form keyå€¼ï¼Œä¹Ÿæ˜¯pathçš„ä¸€éƒ¨åˆ†ã€‚
  isFormField: Boolean // ä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºå½“å‰ç»„ä»¶ä¸ºè¡¨å•ç»„ä»¶
  rules: Array, // è¡¨å•è§„åˆ™
  linkage: String, // è”åŠ¨è„šæœ¬ï¼Œè¿”å›Objectä¼šä»¥å±æ€§æ–¹å¼ä¼ å…¥å­ç»„ä»¶ï¼›è¿”å›ç©ºåˆ™éšè—å­ç»„ä»¶ã€‚
  validateTriggerï¼š String, // å½“å‰ç»„ä»¶æ ¡éªŒæ—¶æœºï¼ŒonChange | onBlur ç­‰ï¼Œé»˜è®¤onBlurï¼Œå³å¤±ç„¦æ—¶å€™æ ¡éªŒã€‚
}
```

## è¡¨å•

ç›®å‰æ‰€æœ‰å…³äºè¡¨å•formçš„å†…å®¹ï¼Œjson2htmléƒ½å·²å¤„ç†å¥½äº†ã€‚ä¼šå°†formå¯¹è±¡æš´éœ²ç»™eventså’Œactionã€‚å…·ä½“formå±æ€§äº†è§£ï¼Œå¯å‚è€ƒ[rc-field-form](https://www.npmjs.com/package/rc-field-form)

## æºç è§£è¯»

æ¨èå…³æ³¨å…¬ä¼—å·ï¼š"å°ç«çƒçƒ§å±è‚¡"ã€‚

å«Œçƒ¦ï¼Ÿä¸è¦ç´§ã€‚ç›´æ¥ä¸Šé“¾æ¥ï¼š 

[json2html-react æ ¸å¿ƒä»£ç æºç è§£è¯»](https://mp.weixin.qq.com/s?__biz=MzkzMTQ1NDU4Nw==&mid=2247484271&idx=1&sn=f8230fba87efed9a997a7f53c1198508&chksm=c26b887bf51c016d7f6085fee855c69596932c6af8d2478362caa128df25350a353f74daa40c&token=1854349548&lang=zh_CN#rd)

[json2htmlå®æˆ˜](https://mp.weixin.qq.com/s?__biz=MzkzMTQ1NDU4Nw==&mid=2247484526&idx=1&sn=ba82a0a3abd427d25cd0c96b3ac0a87e&chksm=c26b8f7af51c066c44336256ab1e7069dc968747ab4949d46cda73f56cf58377462db05124ae&token=1531096240&lang=zh_CN#rd)

## ä¾‹å­ğŸŒ°æŸ¥çœ‹
1. cloneé¡¹ç›®ï¼š
```bash
git clone https://github.com/alan1111/json2html-react.git
```

2. å®‰è£…ä¾èµ–ï¼š 
```bash
npm i
```

3. å¯åŠ¨åº”ç”¨ï¼š

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
```

4. è®¿é—®http://location:3000å³å¯ã€‚

## è¿˜æœ‰ç–‘æƒ‘ï¼Ÿ

[æ¬¢è¿éšæ—¶è”ç³»æˆ‘](https://i-simple.fun/contactUs)

